platform :ios, '12.0'
use_frameworks!
inhibit_all_warnings!

post_install do |installer|
    
    puts 'Determining pod project minimal deployment target'
    
    pods_project = installer.pods_project
    deployment_target_key = 'IPHONEOS_DEPLOYMENT_TARGET'
    deployment_targets = pods_project.build_configurations.map{ |config| config.build_settings[deployment_target_key] }
    minimal_deployment_target = deployment_targets.min_by{ |version| Gem::Version.new(version) }
    
    puts 'Minimal deployment target is ' + minimal_deployment_target
    puts 'Setting each pod deployment target to ' + minimal_deployment_target
    
    installer.pods_project.targets.each do |target|
        target.build_configurations.each do |config|
            config.build_settings[deployment_target_key] = minimal_deployment_target
        end
    end
end

source 'https://github.com/CocoaPods/Specs.git'
source 'https://gitee.com/dvlproad/dvlproadSpecs'

target 'CJNetworkDemo' do
#  plugin 'cocoapods-hmap-prebuilt'

  # PrivacyInfo.xcprivacy 库已添加隐私清单文件，但尚未发布新版本（如 MBProgressHUD）
  # 指定具体 Commit
  pod 'MBProgressHUD', :git => 'https://github.com/jdg/MBProgressHUD.git', :commit => '4a7c5f3e53cdea77c5dcb8578c2ee5acacdf6781'
  # 或直接使用 master 分支
  # pod 'MBProgressHUD', :git => 'https://github.com/jdg/MBProgressHUD.git', :branch => 'master'
  pod 'SVProgressHUD',          '~> 2.3.1'
  pod 'AFNetworking', :git => 'https://gitee.com/Leonesir/afnetworking-dh.git', :branch => 'master'
  
  pod 'CQDemoKit',              '~> 0.8.0',      :subspecs => ['BaseVC', 'Demo_Resource']
  pod 'CQDemoKit-Swift',        '~> 0.0.1'
  pod 'CQMdeiaVideoFrameKit',   :path => '../../013-Mdeia_Video_Frame/iOS'
  pod 'CQOverlayKit'
  pod 'CQTextInputKit'
  pod 'CJBaseHelper'
  
  pod 'CJPlayer',           :path => '../../CJMediaPlayer'
  pod 'CJMediaPlayer',      :path => '../../CJMediaPlayer'
  pod 'CJMediaCacheKit',    :path => '../../CJMediaPlayer'
  
  pod 'CJNetwork-Swift',        :path => '../'
  pod 'CJBaseUIKit',            :subspecs => ['UIView']
  
  # 视频地址解析
  pod 'CQVideoUrlAnalyze-Swift',:path => '../'
  
  # 模拟请求
  pod 'CJNetworkSimulate',  :path => '../'

  # 普通请求
  pod 'CQNetworkPublic',        :path => '../',     :subspecs => ['Request']
  pod 'CJNetwork',              :path => '../',     :subspecs => ['Demo', 'AFNetworkingSerializerEncrypt', 'AFNetworkingMethodEncrypt']
  pod 'CJNetworkClient',        :path => '../',     :subspecs => ['Request']

  # 上传请求
  pod 'CQNetworkPublic',        :path => '../',     :subspecs => ['Upload']
  pod 'CJNetwork',              :path => '../',     :subspecs => ['AFNetworkingUploadComponent']
  pod 'CJNetworkClient',        :path => '../',     :subspecs => ['Upload']
  pod 'CJNetworkFileModel',     :path => '../'
  
  # 其他
  pod 'CJNetwork',              :path => '../',     :subspecs => ['CJRequestUtil', 'CJCacheManager']
  
  pod 'CocoaAsyncSocket',       '~> 7.4.1'

  pod 'CJBaseUtil',     :subspecs => ['CJIndentedStringUtil']
  pod 'CJBaseHelper',   :subspecs => ['DeviceCJHelper', 'NSObjectCJHelper']

  pod 'CJMonitor'

  pod 'OpenUDID', '~> 1.0.0'
end

target 'CJNetworkDemoTests' do
    
end
